import { assertConfig } from './assert-param';
import { core } from './core';
import { config } from './config';
/**
A NamingConvention instance is used to specify the naming conventions under which a MetadataStore
will translate property names between the server and the javascript client.

The default NamingConvention does not perform any translation, it simply passes property names thru unchanged.
@dynamic
**/
export class NamingConvention {
    /**
    NamingConvention constructor
    >      // A naming convention that converts the first character of every property name to uppercase on the server
    >      // and lowercase on the client.
    >      var namingConv = new NamingConvention({
    >          serverPropertyNameToClient: function(serverPropertyName) {
    >              return serverPropertyName.substr(0, 1).toLowerCase() + serverPropertyName.substr(1);
    >          },
    >          clientPropertyNameToServer: function(clientPropertyName) {
    >              return clientPropertyName.substr(0, 1).toUpperCase() + clientPropertyName.substr(1);
    >          }
    >      });
    >      var ms = new MetadataStore({ namingConvention: namingConv });
    >      var em = new EntityManager( { metadataStore: ms });
    **/
    constructor(ncConfig) {
        assertConfig(ncConfig || {})
            .whereParam("name").isOptional().isString()
            .whereParam("serverPropertyNameToClient").isFunction()
            .whereParam("clientPropertyNameToServer").isFunction()
            .applyAll(this);
        if (!this.name) {
            this.name = core.getUuid();
        }
        config._storeObject(this, "NamingConvention", this.name);
    }
    /**
    Sets the 'defaultInstance' by creating a copy of the current 'defaultInstance' and then applying all of the properties of the current instance.
    The current instance is returned unchanged.
    >      var namingConv = new NamingConvention({
    >          serverPropertyNameToClient: function(serverPropertyName) {
    >              return serverPropertyName.substr(0, 1).toLowerCase() + serverPropertyName.substr(1);
    >          },
    >          clientPropertyNameToServer: function(clientPropertyName) {
    >              return clientPropertyName.substr(0, 1).toUpperCase() + clientPropertyName.substr(1);
    >          }
    >      });
    >      namingConv.setAsDefault();
    **/
    setAsDefault() {
        return core.setAsDefault(this, NamingConvention);
    }
}
/**


/**
A noop naming convention - This is the default unless another is specified.
**/
NamingConvention.none = new NamingConvention({
    name: "noChange",
    serverPropertyNameToClient: (serverPropertyName) => {
        return serverPropertyName;
    },
    clientPropertyNameToServer: (clientPropertyName) => {
        return clientPropertyName;
    }
});
/**
The "camelCase" naming convention - This implementation only lowercases the first character of the server property name
but leaves the rest of the property name intact.  If a more complicated version is needed then one should be created via the ctor.
**/
NamingConvention.camelCase = new NamingConvention({
    name: "camelCase",
    serverPropertyNameToClient: (serverPropertyName) => {
        return serverPropertyName.substr(0, 1).toLowerCase() + serverPropertyName.substr(1);
    },
    clientPropertyNameToServer: (clientPropertyName) => {
        return clientPropertyName.substr(0, 1).toUpperCase() + clientPropertyName.substr(1);
    }
});
/**
The default value whenever NamingConventions are not specified.
**/
NamingConvention.defaultInstance = new NamingConvention(NamingConvention.none);
NamingConvention.prototype._$typeName = "NamingConvention";
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmFtaW5nLWNvbnZlbnRpb24uanMiLCJzb3VyY2VSb290Ijoibmc6Ly9icmVlemUtY2xpZW50LyIsInNvdXJjZXMiOlsic3JjL25hbWluZy1jb252ZW50aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM5QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBQzlCLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFjbEM7Ozs7OztHQU1HO0FBQ0gsTUFBTSxPQUFPLGdCQUFnQjtJQVUzQjs7Ozs7Ozs7Ozs7Ozs7T0FjRztJQUNILFlBQVksUUFBZ0M7UUFDMUMsWUFBWSxDQUFDLFFBQVEsSUFBSSxFQUFFLENBQUM7YUFDdkIsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFDLFFBQVEsRUFBRTthQUMxQyxVQUFVLENBQUMsNEJBQTRCLENBQUMsQ0FBQyxVQUFVLEVBQUU7YUFDckQsVUFBVSxDQUFDLDRCQUE0QixDQUFDLENBQUMsVUFBVSxFQUFFO2FBQ3JELFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwQixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNkLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQzVCO1FBQ0QsTUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFxQ0Q7Ozs7Ozs7Ozs7OztPQVlHO0lBQ0gsWUFBWTtRQUNWLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztJQUNuRCxDQUFDOztBQWxERDs7Ozs7R0FLRztBQUNJLHFCQUFJLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBQztJQUNqQyxJQUFJLEVBQUUsVUFBVTtJQUNoQiwwQkFBMEIsRUFBRSxDQUFDLGtCQUFrQixFQUFFLEVBQUU7UUFDakQsT0FBTyxrQkFBa0IsQ0FBQztJQUM1QixDQUFDO0lBQ0QsMEJBQTBCLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxFQUFFO1FBQ2pELE9BQU8sa0JBQWtCLENBQUM7SUFDNUIsQ0FBQztDQUNGLENBQUMsQ0FBQztBQUVIOzs7R0FHRztBQUNJLDBCQUFTLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBQztJQUN0QyxJQUFJLEVBQUUsV0FBVztJQUNqQiwwQkFBMEIsRUFBRSxDQUFDLGtCQUFrQixFQUFFLEVBQUU7UUFDakQsT0FBTyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxHQUFHLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN0RixDQUFDO0lBQ0QsMEJBQTBCLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxFQUFFO1FBQ2pELE9BQU8sa0JBQWtCLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsR0FBRyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdEYsQ0FBQztDQUNGLENBQUMsQ0FBQztBQUVIOztHQUVHO0FBQ0ksZ0NBQWUsR0FBRyxJQUFJLGdCQUFnQixDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDO0FBcUJ2RSxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsVUFBVSxHQUFHLGtCQUFrQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0Q29uZmlnIH0gZnJvbSAnLi9hc3NlcnQtcGFyYW0nO1xyXG5pbXBvcnQgeyBjb3JlIH0gZnJvbSAnLi9jb3JlJztcclxuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xyXG5cclxuLy8gVE9ETzogc3Ryb25nbHkgdHlwZSBjb250ZXh0IG9iamVjdCBwYXNzZWQgdG8gbmFtaW5nIGNvbnZlbnRpb24gY29udmVydGVyIGZucy5cclxuXHJcbi8qKiBDb25maWd1cmF0aW9uIGluZm8gdG8gYmUgcGFzc2VkIHRvIHRoZSBbW05hbWluZ0NvbnZlbnRpb25dXSBjb25zdHJ1Y3RvciAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE5hbWluZ0NvbnZlbnRpb25Db25maWcge1xyXG4gIC8qKiBUaGUgbmFtZSBvZiB0aGlzIE5hbWluZ0NvbnZlbnRpb24gKi9cclxuICBuYW1lPzogc3RyaW5nO1xyXG4gIC8qKiBGdW5jdGlvbiB0aGF0IHRha2VzIGEgc2VydmVyIHByb3BlcnR5IG5hbWUgYWRkIGNvbnZlcnRzIGl0IGludG8gYSBjbGllbnQgc2lkZSBwcm9wZXJ0eSBuYW1lLiAgKi9cclxuICBzZXJ2ZXJQcm9wZXJ0eU5hbWVUb0NsaWVudD86IChubTogc3RyaW5nLCBjb250ZXh0PzogYW55KSA9PiBzdHJpbmc7XHJcbiAgLyoqIEZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBjbGllbnQgcHJvcGVydHkgbmFtZSBhZGQgY29udmVydHMgaXQgaW50byBhIHNlcnZlciBzaWRlIHByb3BlcnR5IG5hbWUuICovXHJcbiAgY2xpZW50UHJvcGVydHlOYW1lVG9TZXJ2ZXI/OiAobm06IHN0cmluZywgY29udGV4dD86IGFueSkgPT4gc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuQSBOYW1pbmdDb252ZW50aW9uIGluc3RhbmNlIGlzIHVzZWQgdG8gc3BlY2lmeSB0aGUgbmFtaW5nIGNvbnZlbnRpb25zIHVuZGVyIHdoaWNoIGEgTWV0YWRhdGFTdG9yZVxyXG53aWxsIHRyYW5zbGF0ZSBwcm9wZXJ0eSBuYW1lcyBiZXR3ZWVuIHRoZSBzZXJ2ZXIgYW5kIHRoZSBqYXZhc2NyaXB0IGNsaWVudC5cclxuXHJcblRoZSBkZWZhdWx0IE5hbWluZ0NvbnZlbnRpb24gZG9lcyBub3QgcGVyZm9ybSBhbnkgdHJhbnNsYXRpb24sIGl0IHNpbXBseSBwYXNzZXMgcHJvcGVydHkgbmFtZXMgdGhydSB1bmNoYW5nZWQuXHJcbkBkeW5hbWljXHJcbioqL1xyXG5leHBvcnQgY2xhc3MgTmFtaW5nQ29udmVudGlvbiB7XHJcbiAgLyoqIEBoaWRkZW4gQGludGVybmFsICovXHJcbiAgXyR0eXBlTmFtZTogc3RyaW5nO1xyXG4gIC8qKiBUaGUgbmFtZSBvZiB0aGlzIE5hbWluZ0NvbnZlbnRpb24uIF9fUmVhZCBPbmx5X18gKi9cclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgLyoqIEZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBzZXJ2ZXIgcHJvcGVydHkgbmFtZSBhZGQgY29udmVydHMgaXQgaW50byBhIGNsaWVudCBzaWRlIHByb3BlcnR5IG5hbWUuICBfX1JlYWQgT25seV9fICovXHJcbiAgc2VydmVyUHJvcGVydHlOYW1lVG9DbGllbnQ6IChubTogc3RyaW5nLCBjb250ZXh0PzogYW55KSA9PiBzdHJpbmc7XHJcbiAgLyoqIEZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBjbGllbnQgcHJvcGVydHkgbmFtZSBhZGQgY29udmVydHMgaXQgaW50byBhIHNlcnZlciBzaWRlIHByb3BlcnR5IG5hbWUuIF9fUmVhZCBPbmx5X18gKi9cclxuICBjbGllbnRQcm9wZXJ0eU5hbWVUb1NlcnZlcjogKG5tOiBzdHJpbmcsIGNvbnRleHQ/OiBhbnkpID0+IHN0cmluZztcclxuXHJcbiAgLyoqXHJcbiAgTmFtaW5nQ29udmVudGlvbiBjb25zdHJ1Y3RvclxyXG4gID4gICAgICAvLyBBIG5hbWluZyBjb252ZW50aW9uIHRoYXQgY29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBldmVyeSBwcm9wZXJ0eSBuYW1lIHRvIHVwcGVyY2FzZSBvbiB0aGUgc2VydmVyXHJcbiAgPiAgICAgIC8vIGFuZCBsb3dlcmNhc2Ugb24gdGhlIGNsaWVudC5cclxuICA+ICAgICAgdmFyIG5hbWluZ0NvbnYgPSBuZXcgTmFtaW5nQ29udmVudGlvbih7XHJcbiAgPiAgICAgICAgICBzZXJ2ZXJQcm9wZXJ0eU5hbWVUb0NsaWVudDogZnVuY3Rpb24oc2VydmVyUHJvcGVydHlOYW1lKSB7XHJcbiAgPiAgICAgICAgICAgICAgcmV0dXJuIHNlcnZlclByb3BlcnR5TmFtZS5zdWJzdHIoMCwgMSkudG9Mb3dlckNhc2UoKSArIHNlcnZlclByb3BlcnR5TmFtZS5zdWJzdHIoMSk7XHJcbiAgPiAgICAgICAgICB9LFxyXG4gID4gICAgICAgICAgY2xpZW50UHJvcGVydHlOYW1lVG9TZXJ2ZXI6IGZ1bmN0aW9uKGNsaWVudFByb3BlcnR5TmFtZSkge1xyXG4gID4gICAgICAgICAgICAgIHJldHVybiBjbGllbnRQcm9wZXJ0eU5hbWUuc3Vic3RyKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBjbGllbnRQcm9wZXJ0eU5hbWUuc3Vic3RyKDEpO1xyXG4gID4gICAgICAgICAgfSAgICAgICAgICAgIFxyXG4gID4gICAgICB9KTtcclxuICA+ICAgICAgdmFyIG1zID0gbmV3IE1ldGFkYXRhU3RvcmUoeyBuYW1pbmdDb252ZW50aW9uOiBuYW1pbmdDb252IH0pO1xyXG4gID4gICAgICB2YXIgZW0gPSBuZXcgRW50aXR5TWFuYWdlciggeyBtZXRhZGF0YVN0b3JlOiBtcyB9KTtcclxuICAqKi9cclxuICBjb25zdHJ1Y3RvcihuY0NvbmZpZzogTmFtaW5nQ29udmVudGlvbkNvbmZpZyApIHtcclxuICAgIGFzc2VydENvbmZpZyhuY0NvbmZpZyB8fCB7fSlcclxuICAgICAgICAud2hlcmVQYXJhbShcIm5hbWVcIikuaXNPcHRpb25hbCgpLmlzU3RyaW5nKClcclxuICAgICAgICAud2hlcmVQYXJhbShcInNlcnZlclByb3BlcnR5TmFtZVRvQ2xpZW50XCIpLmlzRnVuY3Rpb24oKVxyXG4gICAgICAgIC53aGVyZVBhcmFtKFwiY2xpZW50UHJvcGVydHlOYW1lVG9TZXJ2ZXJcIikuaXNGdW5jdGlvbigpXHJcbiAgICAgICAgLmFwcGx5QWxsKHRoaXMpO1xyXG4gICAgaWYgKCF0aGlzLm5hbWUpIHtcclxuICAgICAgdGhpcy5uYW1lID0gY29yZS5nZXRVdWlkKCk7XHJcbiAgICB9XHJcbiAgICBjb25maWcuX3N0b3JlT2JqZWN0KHRoaXMsIFwiTmFtaW5nQ29udmVudGlvblwiLCB0aGlzLm5hbWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcblxyXG5cclxuICAvKipcclxuICBBIG5vb3AgbmFtaW5nIGNvbnZlbnRpb24gLSBUaGlzIGlzIHRoZSBkZWZhdWx0IHVubGVzcyBhbm90aGVyIGlzIHNwZWNpZmllZC5cclxuICAqKi9cclxuICBzdGF0aWMgbm9uZSA9IG5ldyBOYW1pbmdDb252ZW50aW9uKHtcclxuICAgIG5hbWU6IFwibm9DaGFuZ2VcIixcclxuICAgIHNlcnZlclByb3BlcnR5TmFtZVRvQ2xpZW50OiAoc2VydmVyUHJvcGVydHlOYW1lKSA9PiB7XHJcbiAgICAgIHJldHVybiBzZXJ2ZXJQcm9wZXJ0eU5hbWU7XHJcbiAgICB9LFxyXG4gICAgY2xpZW50UHJvcGVydHlOYW1lVG9TZXJ2ZXI6IChjbGllbnRQcm9wZXJ0eU5hbWUpID0+IHtcclxuICAgICAgcmV0dXJuIGNsaWVudFByb3BlcnR5TmFtZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgVGhlIFwiY2FtZWxDYXNlXCIgbmFtaW5nIGNvbnZlbnRpb24gLSBUaGlzIGltcGxlbWVudGF0aW9uIG9ubHkgbG93ZXJjYXNlcyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIHRoZSBzZXJ2ZXIgcHJvcGVydHkgbmFtZVxyXG4gIGJ1dCBsZWF2ZXMgdGhlIHJlc3Qgb2YgdGhlIHByb3BlcnR5IG5hbWUgaW50YWN0LiAgSWYgYSBtb3JlIGNvbXBsaWNhdGVkIHZlcnNpb24gaXMgbmVlZGVkIHRoZW4gb25lIHNob3VsZCBiZSBjcmVhdGVkIHZpYSB0aGUgY3Rvci5cclxuICAqKi9cclxuICBzdGF0aWMgY2FtZWxDYXNlID0gbmV3IE5hbWluZ0NvbnZlbnRpb24oe1xyXG4gICAgbmFtZTogXCJjYW1lbENhc2VcIixcclxuICAgIHNlcnZlclByb3BlcnR5TmFtZVRvQ2xpZW50OiAoc2VydmVyUHJvcGVydHlOYW1lKSA9PiB7XHJcbiAgICAgIHJldHVybiBzZXJ2ZXJQcm9wZXJ0eU5hbWUuc3Vic3RyKDAsIDEpLnRvTG93ZXJDYXNlKCkgKyBzZXJ2ZXJQcm9wZXJ0eU5hbWUuc3Vic3RyKDEpO1xyXG4gICAgfSxcclxuICAgIGNsaWVudFByb3BlcnR5TmFtZVRvU2VydmVyOiAoY2xpZW50UHJvcGVydHlOYW1lKSA9PiB7XHJcbiAgICAgIHJldHVybiBjbGllbnRQcm9wZXJ0eU5hbWUuc3Vic3RyKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBjbGllbnRQcm9wZXJ0eU5hbWUuc3Vic3RyKDEpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICBUaGUgZGVmYXVsdCB2YWx1ZSB3aGVuZXZlciBOYW1pbmdDb252ZW50aW9ucyBhcmUgbm90IHNwZWNpZmllZC5cclxuICAqKi9cclxuICBzdGF0aWMgZGVmYXVsdEluc3RhbmNlID0gbmV3IE5hbWluZ0NvbnZlbnRpb24oTmFtaW5nQ29udmVudGlvbi5ub25lKTtcclxuXHJcbiAgLyoqXHJcbiAgU2V0cyB0aGUgJ2RlZmF1bHRJbnN0YW5jZScgYnkgY3JlYXRpbmcgYSBjb3B5IG9mIHRoZSBjdXJyZW50ICdkZWZhdWx0SW5zdGFuY2UnIGFuZCB0aGVuIGFwcGx5aW5nIGFsbCBvZiB0aGUgcHJvcGVydGllcyBvZiB0aGUgY3VycmVudCBpbnN0YW5jZS5cclxuICBUaGUgY3VycmVudCBpbnN0YW5jZSBpcyByZXR1cm5lZCB1bmNoYW5nZWQuXHJcbiAgPiAgICAgIHZhciBuYW1pbmdDb252ID0gbmV3IE5hbWluZ0NvbnZlbnRpb24oe1xyXG4gID4gICAgICAgICAgc2VydmVyUHJvcGVydHlOYW1lVG9DbGllbnQ6IGZ1bmN0aW9uKHNlcnZlclByb3BlcnR5TmFtZSkge1xyXG4gID4gICAgICAgICAgICAgIHJldHVybiBzZXJ2ZXJQcm9wZXJ0eU5hbWUuc3Vic3RyKDAsIDEpLnRvTG93ZXJDYXNlKCkgKyBzZXJ2ZXJQcm9wZXJ0eU5hbWUuc3Vic3RyKDEpO1xyXG4gID4gICAgICAgICAgfSxcclxuICA+ICAgICAgICAgIGNsaWVudFByb3BlcnR5TmFtZVRvU2VydmVyOiBmdW5jdGlvbihjbGllbnRQcm9wZXJ0eU5hbWUpIHtcclxuICA+ICAgICAgICAgICAgICByZXR1cm4gY2xpZW50UHJvcGVydHlOYW1lLnN1YnN0cigwLCAxKS50b1VwcGVyQ2FzZSgpICsgY2xpZW50UHJvcGVydHlOYW1lLnN1YnN0cigxKTtcclxuICA+ICAgICAgICAgIH0gICAgICAgICAgICBcclxuICA+ICAgICAgfSk7XHJcbiAgPiAgICAgIG5hbWluZ0NvbnYuc2V0QXNEZWZhdWx0KCk7XHJcbiAgKiovXHJcbiAgc2V0QXNEZWZhdWx0KCkge1xyXG4gICAgcmV0dXJuIGNvcmUuc2V0QXNEZWZhdWx0KHRoaXMsIE5hbWluZ0NvbnZlbnRpb24pO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbk5hbWluZ0NvbnZlbnRpb24ucHJvdG90eXBlLl8kdHlwZU5hbWUgPSBcIk5hbWluZ0NvbnZlbnRpb25cIjtcclxuXHJcblxyXG5cclxuXHJcbiJdfQ==